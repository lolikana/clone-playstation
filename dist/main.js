(()=>{"use strict";var e={5403:(e,t,s)=>{s.r(t)},9402:(e,t,s)=>{s.r(t)},3851:(e,t,s)=>{s.r(t)},7179:(e,t,s)=>{s.r(t)},1994:(e,t,s)=>{s.r(t)},401:(e,t,s)=>{s.r(t)},5885:(e,t,s)=>{s.r(t)},2208:(e,t,s)=>{s.r(t)},6555:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(2208),s(5885),s(401),s(9402),s(3851),s(7179),s(5403),s(1994)},9813:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.navSecondData=void 0;const a=r(s(5578)),i=r(s(1413)),n=r(s(1015)),c=r(s(2509)),o=r(s(3265)),l=r(s(6384)),d=r(s(9791)),u=r(s(1190)),f=r(s(3487)),p=r(s(8432)),m=r(s(9864)),h=r(s(4854)),v=r(s(5004));t.navSecondData=[{id:"Games",title:"Games",items:[{icon:n.default,title:"PS5"},{icon:a.default,title:"PS4"},{icon:p.default,title:"PS VR"},{icon:d.default,title:"PS Plus"},{icon:m.default,title:"Buy Games"}],links:[{text:"PlayStation Indies",href:"#"},{text:"PS4 games on PS5",href:"#"},{text:"Free to Play",href:"#"},{text:"Playstation games on PC",href:"#"},{text:"Deals & offers",href:"#"}]},{id:"Hardware",title:"Hardware",items:[{icon:n.default,title:"PS5"},{icon:a.default,title:"PS4"},{icon:i.default,title:"PS4 Pro"},{icon:f.default,title:"PS VR2"}],links:[{text:"DualSense wireless controller",href:"#"},{text:"PULSE 3D wireless headset",href:"#"},{text:"DUALSHOCK 4 wireless controller",href:"#"},{text:"PS5 & PS4 accessories",href:"#"},{text:"Playstation VR",href:"#"}]},{id:"Services",title:"Services",items:[{icon:d.default,title:"PS Plus"},{icon:u.default,title:"PS Stars"}],links:[{text:"PS5 entertainment",href:"#"},{text:"PS4 entertainment",href:"#"}]},{id:"News",title:"News",items:[{icon:c.default,title:"PS Blog"},{icon:o.default,title:"This Month on Playstation"}],links:[{text:"Competition Center",href:"#"},{text:"Accessibility",href:"#"},{text:"Privacy & Safety",href:"#"}]},{id:"Shop",title:"Shop",items:[{icon:i.default,title:"Hardware and Discs"},{icon:m.default,title:"Digital Games and Services"},{icon:h.default,title:"Official Merchandise"}],links:[{text:"Buy a PS5",href:"#"},{text:"New releases",href:"#"},{text:"Latest Discount",href:"#"},{text:"Buy gift card",href:"#"},{text:"Subscribe to PS Plus",href:"#"}]},{id:"Support",title:"Support",items:[{icon:v.default,title:"Support"},{icon:l.default,title:"PSN Status"}],links:[{text:"Account",href:"#"},{text:"Store",href:"#"},{text:"Subscriptions",href:"#"},{text:"Games",href:"#"},{text:"Hardware",href:"#"}]}]},3265:(e,t,s)=>{e.exports=s.p+"assets/b3fc06457682b475b7dd.png"},2509:(e,t,s)=>{e.exports=s.p+"assets/b7715399ba44e8de8cb3.png"},9791:(e,t,s)=>{e.exports=s.p+"assets/efb3ffdbcca3a03eea76.png"},6384:(e,t,s)=>{e.exports=s.p+"assets/38ca8ac306d93b86574c.png"},1190:(e,t,s)=>{e.exports=s.p+"assets/e59d778aeccdd746853a.png"},5004:(e,t,s)=>{e.exports=s.p+"assets/70ac2d56737eb464c36e.png"},8432:(e,t,s)=>{e.exports=s.p+"assets/3e816a58be3e056936ad.png"},3487:(e,t,s)=>{e.exports=s.p+"assets/f4b8dc00e98c08841f63.png"},1413:(e,t,s)=>{e.exports=s.p+"assets/b11684b56dffba787346.png"},5578:(e,t,s)=>{e.exports=s.p+"assets/ae3dba7e004bd32d74d3.png"},1015:(e,t,s)=>{e.exports=s.p+"assets/8637f7366f19c8919ee1.png"},9864:(e,t,s)=>{e.exports=s.p+"assets/80e0e26d7b94104be6b7.png"},4854:(e,t,s)=>{e.exports=s.p+"assets/ae0d5e7d43ecf61e287b.png"}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,s),i.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{s(6555);const e=s(9813),t=document.querySelector("html"),r=document.querySelector(".navbar"),a=document.querySelector(".menu--toggler"),i=document.querySelector(".navbar--primary"),n=document.querySelector(".navbar--secondary"),c=document.querySelector(".nav-links"),o=document.querySelectorAll(".nav-link-btn"),l=document.querySelector(".navbar--search-icon"),d=document.querySelector(".navbar--secondary-toggler"),u=document.querySelector(".secondary--list-items"),f=document.querySelector(".secondary--list-links"),p=document.querySelector(".primary--search-toggler"),m=document.querySelector(".search--modal"),h=document.querySelector(".search--modal-toggler"),v=document.querySelector(".search--select-placeholder"),S=document.querySelector(".search--dropdown"),b=document.querySelectorAll('input[name="search--select-option"]'),g=document.querySelector('input[name="search-input"]');window.onscroll=function(){window.pageYOffset>=L?y.classList.add("sticky"):y.classList.remove("sticky")};const y=document.getElementsByTagName("nav")[0],L=y.offsetTop;let x=!1;function P(e){i.setAttribute("data-visible",`${e}`),a.setAttribute("aria-expanded",`${e}`),x=e,e?a.classList.add("open","burger--shadow-active"):a.classList.remove("open","burger--shadow-active")}t.addEventListener("click",(e=>{const t=i.getAttribute("data-visible"),s=e.target;s!==i&&s!==n&&s!==u&&s!==f&&s!==d&&s!==l&&s!==m&&(a.contains(s)&&"false"===t&&!x?P(!0):(!i.contains(s)&&"true"===t||s===r)&&(P(!1),n.setAttribute("data-visible","false"),o.forEach((e=>{e.classList.remove("active")}))),s!==v&&(v.classList.remove("active"),S.classList.remove("show"),v.innerHTML=w[0]))})),c.addEventListener("click",(t=>{const s=t.target.closest(".nav-link-btn");if(null!==s){if(s.classList.contains("active"))return s.classList.remove("active"),n.setAttribute("data-visible","false"),void(window.innerWidth>=700&&P(!1));var r;o.forEach((e=>{e.classList.remove("active"),s.classList.add("active"),n.setAttribute("data-visible","true"),P(!0)})),r=e.navSecondData.filter((e=>e.id===s.innerHTML))[0],d.innerHTML=r.title,u.innerHTML="",r.items.map((e=>{u.appendChild(((e,t)=>{const s=document.createElement("li"),r=document.createElement("a"),a=document.createElement("img"),i=document.createElement("span");return s.classList.add("secondary--list-item"),r.href="#",r.classList.add("secondary--item-link"),a.classList.add("secondary--item-img"),a.src=e,i.classList.add("secondary--item-text"),i.innerHTML=t,r.appendChild(a),r.appendChild(i),s.appendChild(r),s.classList.add("fade-out"),requestAnimationFrame((()=>{s.classList.remove("fade-out")})),s})(e.icon,e.title))})),f.innerHTML="",r.links.map((e=>{f.appendChild(((e,t)=>{const s=document.createElement("li"),r=document.createElement("a");return s.classList.add("secondary--list-link"),r.href=e,r.innerHTML=t,s.appendChild(r),s.classList.add("fade-out"),requestAnimationFrame((()=>{s.classList.remove("fade-out")})),s})(e.href,e.text))}))}})),d.addEventListener("click",(()=>{n.setAttribute("data-visible","false"),o.forEach((e=>{e.classList.remove("active")}))})),p.addEventListener("click",(()=>{m.setAttribute("data-visible","true")}));const w=["PlayStation.com","Sites"],k=()=>{const e=document.querySelector('input[name="search--select-option"]:checked').value;w.shift(),w.unshift(e)};v.addEventListener("click",(()=>{v.classList.toggle("active"),S.classList.toggle("show"),k(),v.classList.contains("active")?v.innerHTML=w[1]:v.innerHTML=w[0]})),b.forEach((e=>e.addEventListener("change",(()=>{k(),v.innerHTML=w[0],g.placeholder=`Search ${w[0]}`})))),h.addEventListener("click",(()=>{m.setAttribute("data-visible","false")})),m.addEventListener("click",(e=>{const t=e.target;m===t&&(v.classList.remove("active"),S.classList.remove("show"),m.setAttribute("data-visible","false"),v.innerHTML=w[0])}));const q=document.querySelector(".section--randomGame-slide"),E=new IntersectionObserver(((e,t)=>{const[s]=e;s.isIntersecting&&(s.target.classList.add("random-slide-active"),t.unobserve(s.target))}),{root:null,threshold:.15});q.classList.remove("random-slide-active"),E.observe(q)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RGQsTUFFbkRxRCxFQUF3Qm9CLFFBQ3hCcEIsRUFBd0JxQixRQUFRRixFQUFrQixFQUdwRDNDLEVBQTJCZ0IsaUJBQWlCLFNBQVMsS0FDbkRoQixFQUEyQlEsVUFBVXNDLE9BQU8sVUFDNUM3QyxFQUFlTyxVQUFVc0MsT0FBTyxRQUVoQ0osSUFFSTFDLEVBQTJCUSxVQUFVWSxTQUFTLFVBQ2hEcEIsRUFBMkJ1QixVQUFZQyxFQUF3QixHQUUvRHhCLEVBQTJCdUIsVUFBWUMsRUFBd0IsRSxJQUluRXRCLEVBQW1CbUIsU0FBUTBCLEdBQ3pCQSxFQUFNL0IsaUJBQWlCLFVBQVUsS0FDL0IwQixJQUNBMUMsRUFBMkJ1QixVQUFZQyxFQUF3QixHQUMvRHJCLEVBQWdCNkMsWUFBYyxVQUFVeEIsRUFBd0IsSUFBSSxNQUl4RXpCLEVBQW1CaUIsaUJBQWlCLFNBQVMsS0FDM0NsQixFQUFZaUIsYUFBYSxlQUFnQixRQUFRLElBVW5EakIsRUFBWWtCLGlCQUFpQixTQUFTcEQsSUFDcEMsTUFBTXVELEVBQVN2RCxFQUFFdUQsT0FDYnJCLElBQWdCcUIsSUFScEJuQixFQUEyQlEsVUFBVUUsT0FBTyxVQUM1Q1QsRUFBZU8sVUFBVUUsT0FBTyxRQUNoQ1osRUFBWWlCLGFBQWEsZUFBZ0IsU0FDekNmLEVBQTJCdUIsVUFBWUMsRUFBd0IsR0FNN0MsSUFLcEIsTUFBTXlCLEVBQXdCMUUsU0FBU1UsY0FDckMsOEJBWUlpRSxFQUE0QixJQUFJQyxzQkFWRixDQUNsQ0MsRUFDQUMsS0FFQSxNQUFPQyxHQUFTRixFQUNYRSxFQUFNQyxpQkFDWEQsRUFBTW5DLE9BQU9YLFVBQVVDLElBQUksdUJBQzNCNEMsRUFBU0csVUFBVUYsRUFBTW5DLFFBQU8sR0FHc0QsQ0FDdEZzQyxLQUFNLEtBQ05DLFVBQVcsTUFFYlQsRUFBc0J6QyxVQUFVRSxPQUFPLHVCQUN2Q3dDLEVBQTBCUyxRQUFRVixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2xvbmUtcGxheXN0YXRpb24vLi9zcmMvdHMvbGlicy9pbXBvcnQudHMiLCJ3ZWJwYWNrOi8vY2xvbmUtcGxheXN0YXRpb24vLi9zcmMvdHMvc2VlZHMvZGF0YS50cyIsIndlYnBhY2s6Ly9jbG9uZS1wbGF5c3RhdGlvbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jbG9uZS1wbGF5c3RhdGlvbi93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2Nsb25lLXBsYXlzdGF0aW9uL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2xvbmUtcGxheXN0YXRpb24vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vY2xvbmUtcGxheXN0YXRpb24vLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogU0NTUyAqL1xuaW1wb3J0ICcuLi8uLi9zYXNzL3N0eWxlLnNjc3MnO1xuXG4vKiBTd2lwZXIgQ1NTICovXG5pbXBvcnQgJ3N3aXBlci9jc3MvYnVuZGxlJztcbmltcG9ydCAnc3dpcGVyL2Nzcy90aHVtYnMnO1xuaW1wb3J0ICdzd2lwZXIvY3NzL2VmZmVjdC1mYWRlJztcbmltcG9ydCAnc3dpcGVyL2Nzcy9ncmlkJztcbmltcG9ydCAnc3dpcGVyL2Nzcy9rZXlib2FyZCc7XG5pbXBvcnQgJ3N3aXBlci9jc3MvYXV0b3BsYXknO1xuaW1wb3J0ICdzd2lwZXIvY3NzL3BhZ2luYXRpb24nO1xuXG4vKiBXZWJwYWNrIGxvZGFzaCAqL1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuIiwiaW1wb3J0IHsgSU5hdlNlY29uZERhdGEgfSBmcm9tICcuLi9saWJzL3R5cGVzJztcblxuaW1wb3J0IFBTNEljb24gZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uL25hdmJhci1zZWNvbmRhcnkvcHM0LnBuZyc7XG5pbXBvcnQgUFM0UHJvcEljb24gZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uL25hdmJhci1zZWNvbmRhcnkvcHM0LXByby5wbmcnO1xuaW1wb3J0IFBTNUljb24gZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uL25hdmJhci1zZWNvbmRhcnkvcHM1LnBuZyc7XG5pbXBvcnQgUFNCbG9nSWNvbiBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2ljb24vbmF2YmFyLXNlY29uZGFyeS9wcy1ibG9nLnBuZyc7XG5pbXBvcnQgUFNCbG9nTW9udGhJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbi9uYXZiYXItc2Vjb25kYXJ5L3BzLWJsb2ctbW9udGgucG5nJztcbmltcG9ydCBQU05JY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbi9uYXZiYXItc2Vjb25kYXJ5L3BzLXBzbi5wbmcnO1xuaW1wb3J0IFBTUGx1c0ljb24gZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uL25hdmJhci1zZWNvbmRhcnkvcHMtcGx1cy5wbmcnO1xuaW1wb3J0IFBTU3RhcnNJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbi9uYXZiYXItc2Vjb25kYXJ5L3BzLXN0YXJzLnBuZyc7XG5pbXBvcnQgUFNWUjJJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbi9uYXZiYXItc2Vjb25kYXJ5L3BzLXZyMi5wbmcnO1xuaW1wb3J0IFBTVlJJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbi9uYXZiYXItc2Vjb25kYXJ5L3BzLXZyLnBuZyc7XG5pbXBvcnQgU2hvcEdhbWVJY29uIGZyb20gJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbi9uYXZiYXItc2Vjb25kYXJ5L3Nob3AtZ2FtZXMucG5nJztcbmltcG9ydCBTaG9wT2ZmSWNvbiBmcm9tICcuLi8uLi9hc3NldHMvaW1hZ2VzL2ljb24vbmF2YmFyLXNlY29uZGFyeS9zaG9wLW9mZmljaWFsLnBuZyc7XG5pbXBvcnQgU3VwcG9ydEljb24gZnJvbSAnLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uL25hdmJhci1zZWNvbmRhcnkvcHMtc3VwcG9ydC5wbmcnO1xuXG5leHBvcnQgY29uc3QgbmF2U2Vjb25kRGF0YTogSU5hdlNlY29uZERhdGFbXSA9IFtcbiAge1xuICAgIGlkOiAnR2FtZXMnLFxuICAgIHRpdGxlOiAnR2FtZXMnLFxuICAgIGl0ZW1zOiBbXG4gICAgICB7XG4gICAgICAgIGljb246IFBTNUljb24sXG4gICAgICAgIHRpdGxlOiAnUFM1J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWNvbjogUFM0SWNvbixcbiAgICAgICAgdGl0bGU6ICdQUzQnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpY29uOiBQU1ZSSWNvbixcbiAgICAgICAgdGl0bGU6ICdQUyBWUidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGljb246IFBTUGx1c0ljb24sXG4gICAgICAgIHRpdGxlOiAnUFMgUGx1cydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGljb246IFNob3BHYW1lSWNvbixcbiAgICAgICAgdGl0bGU6ICdCdXkgR2FtZXMnXG4gICAgICB9XG4gICAgXSxcbiAgICBsaW5rczogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiAnUGxheVN0YXRpb24gSW5kaWVzJyxcbiAgICAgICAgaHJlZjogJyMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnUFM0IGdhbWVzIG9uIFBTNScsXG4gICAgICAgIGhyZWY6ICcjJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ0ZyZWUgdG8gUGxheScsXG4gICAgICAgIGhyZWY6ICcjJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ1BsYXlzdGF0aW9uIGdhbWVzIG9uIFBDJyxcbiAgICAgICAgaHJlZjogJyMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnRGVhbHMgJiBvZmZlcnMnLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBpZDogJ0hhcmR3YXJlJyxcbiAgICB0aXRsZTogJ0hhcmR3YXJlJyxcbiAgICBpdGVtczogW1xuICAgICAge1xuICAgICAgICBpY29uOiBQUzVJY29uLFxuICAgICAgICB0aXRsZTogJ1BTNSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGljb246IFBTNEljb24sXG4gICAgICAgIHRpdGxlOiAnUFM0J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWNvbjogUFM0UHJvcEljb24sXG4gICAgICAgIHRpdGxlOiAnUFM0IFBybydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGljb246IFBTVlIySWNvbixcbiAgICAgICAgdGl0bGU6ICdQUyBWUjInXG4gICAgICB9XG4gICAgXSxcbiAgICBsaW5rczogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiAnRHVhbFNlbnNlIHdpcmVsZXNzIGNvbnRyb2xsZXInLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdQVUxTRSAzRCB3aXJlbGVzcyBoZWFkc2V0JyxcbiAgICAgICAgaHJlZjogJyMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnRFVBTFNIT0NLIDQgd2lyZWxlc3MgY29udHJvbGxlcicsXG4gICAgICAgIGhyZWY6ICcjJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ1BTNSAmIFBTNCBhY2Nlc3NvcmllcycsXG4gICAgICAgIGhyZWY6ICcjJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGV4dDogJ1BsYXlzdGF0aW9uIFZSJyxcbiAgICAgICAgaHJlZjogJyMnXG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7XG4gICAgaWQ6ICdTZXJ2aWNlcycsXG4gICAgdGl0bGU6ICdTZXJ2aWNlcycsXG4gICAgaXRlbXM6IFtcbiAgICAgIHtcbiAgICAgICAgaWNvbjogUFNQbHVzSWNvbixcbiAgICAgICAgdGl0bGU6ICdQUyBQbHVzJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWNvbjogUFNTdGFyc0ljb24sXG4gICAgICAgIHRpdGxlOiAnUFMgU3RhcnMnXG4gICAgICB9XG4gICAgXSxcbiAgICBsaW5rczogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiAnUFM1IGVudGVydGFpbm1lbnQnLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdQUzQgZW50ZXJ0YWlubWVudCcsXG4gICAgICAgIGhyZWY6ICcjJ1xuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIGlkOiAnTmV3cycsXG4gICAgdGl0bGU6ICdOZXdzJyxcbiAgICBpdGVtczogW1xuICAgICAge1xuICAgICAgICBpY29uOiBQU0Jsb2dJY29uLFxuICAgICAgICB0aXRsZTogJ1BTIEJsb2cnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpY29uOiBQU0Jsb2dNb250aEljb24sXG4gICAgICAgIHRpdGxlOiAnVGhpcyBNb250aCBvbiBQbGF5c3RhdGlvbidcbiAgICAgIH1cbiAgICBdLFxuICAgIGxpbmtzOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdDb21wZXRpdGlvbiBDZW50ZXInLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdBY2Nlc3NpYmlsaXR5JyxcbiAgICAgICAgaHJlZjogJyMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnUHJpdmFjeSAmIFNhZmV0eScsXG4gICAgICAgIGhyZWY6ICcjJ1xuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIGlkOiAnU2hvcCcsXG4gICAgdGl0bGU6ICdTaG9wJyxcbiAgICBpdGVtczogW1xuICAgICAge1xuICAgICAgICBpY29uOiBQUzRQcm9wSWNvbixcbiAgICAgICAgdGl0bGU6ICdIYXJkd2FyZSBhbmQgRGlzY3MnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpY29uOiBTaG9wR2FtZUljb24sXG4gICAgICAgIHRpdGxlOiAnRGlnaXRhbCBHYW1lcyBhbmQgU2VydmljZXMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpY29uOiBTaG9wT2ZmSWNvbixcbiAgICAgICAgdGl0bGU6ICdPZmZpY2lhbCBNZXJjaGFuZGlzZSdcbiAgICAgIH1cbiAgICBdLFxuICAgIGxpbmtzOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdCdXkgYSBQUzUnLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdOZXcgcmVsZWFzZXMnLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdMYXRlc3QgRGlzY291bnQnLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdCdXkgZ2lmdCBjYXJkJyxcbiAgICAgICAgaHJlZjogJyMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnU3Vic2NyaWJlIHRvIFBTIFBsdXMnLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBpZDogJ1N1cHBvcnQnLFxuICAgIHRpdGxlOiAnU3VwcG9ydCcsXG4gICAgaXRlbXM6IFtcbiAgICAgIHtcbiAgICAgICAgaWNvbjogU3VwcG9ydEljb24sXG4gICAgICAgIHRpdGxlOiAnU3VwcG9ydCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGljb246IFBTTkljb24sXG4gICAgICAgIHRpdGxlOiAnUFNOIFN0YXR1cydcbiAgICAgIH1cbiAgICBdLFxuICAgIGxpbmtzOiBbXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdBY2NvdW50JyxcbiAgICAgICAgaHJlZjogJyMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnU3RvcmUnLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdTdWJzY3JpcHRpb25zJyxcbiAgICAgICAgaHJlZjogJyMnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0ZXh0OiAnR2FtZXMnLFxuICAgICAgICBocmVmOiAnIydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRleHQ6ICdIYXJkd2FyZScsXG4gICAgICAgIGhyZWY6ICcjJ1xuICAgICAgfVxuICAgIF1cbiAgfVxuXTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0ICcuL3RzL2xpYnMvaW1wb3J0LnRzJztcblxuaW1wb3J0IHsgSU5hdlNlY29uZERhdGEgfSBmcm9tICcuL3RzL2xpYnMvdHlwZXMnO1xuaW1wb3J0IHsgbmF2U2Vjb25kRGF0YSB9IGZyb20gJy4vdHMvc2VlZHMvZGF0YSc7XG5cbmNvbnN0IGh0bWxTZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykgYXMgSFRNTEVsZW1lbnQ7XG4vKiBOYXYgbWVudSBTVEFSVCAqL1xuY29uc3QgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpIGFzIEhUTUxEaXZFbGVtZW50O1xuY29uc3QgbWVudUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LS10b2dnbGVyJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4vKiogUHJpbWFyeSBuYXYgKi9cbmNvbnN0IHByaW1hcnlOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyLS1wcmltYXJ5JykgYXMgSFRNTERpdkVsZW1lbnQ7XG5jb25zdCBzZWNvbmRhcnlOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyLS1zZWNvbmRhcnknKSBhcyBIVE1MRGl2RWxlbWVudDtcbmNvbnN0IGxpbmtzTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1saW5rcycpIGFzIEhUTUxVTGlzdEVsZW1lbnQ7XG5jb25zdCBidG5zTGlua05hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICcubmF2LWxpbmstYnRuJ1xuKSBhcyBOb2RlTGlzdE9mPEhUTUxCdXR0b25FbGVtZW50PjtcbmNvbnN0IHNlYXJjaEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXItLXNlYXJjaC1pY29uJykgYXMgSFRNTEltYWdlRWxlbWVudDtcbi8qKiBTZWNvbmQgbmF2ICovXG5jb25zdCB0b2dnbGVyQnRuU2Vjb25kYXJ5TmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJy5uYXZiYXItLXNlY29uZGFyeS10b2dnbGVyJ1xuKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbmNvbnN0IHVsTGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY29uZGFyeS0tbGlzdC1pdGVtcycpIGFzIEhUTUxVTGlzdEVsZW1lbnQ7XG5jb25zdCB1bExpc3RMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWNvbmRhcnktLWxpc3QtbGlua3MnKSBhcyBIVE1MVUxpc3RFbGVtZW50O1xuLyoqIFNlYXJjaCBiYXIgKi9cbmNvbnN0IHNlYXJjaEJhclRvZ2dsZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnLnByaW1hcnktLXNlYXJjaC10b2dnbGVyJ1xuKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbmNvbnN0IHNlYXJjaE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC0tbW9kYWwnKSBhcyBIVE1MRGl2RWxlbWVudDtcbmNvbnN0IHNlYXJjaE1vZGFsVG9nZ2xlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcuc2VhcmNoLS1tb2RhbC10b2dnbGVyJ1xuKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbmNvbnN0IHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJy5zZWFyY2gtLXNlbGVjdC1wbGFjZWhvbGRlcidcbikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5jb25zdCBzZWFyY2hEcm9wZG93biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtLWRyb3Bkb3duJykgYXMgSFRNTERpdkVsZW1lbnQ7XG5jb25zdCBzZWFyY2hTZWxlY3RJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAnaW5wdXRbbmFtZT1cInNlYXJjaC0tc2VsZWN0LW9wdGlvblwiXSdcbikgYXMgTm9kZUxpc3RPZjxIVE1MSW5wdXRFbGVtZW50PjtcbmNvbnN0IHNlYXJjaFRleHRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICdpbnB1dFtuYW1lPVwic2VhcmNoLWlucHV0XCJdJ1xuKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG53aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7XG4gIHNldFN0aWNreU5hdigpO1xufTtcblxuY29uc3QgbmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25hdicpWzBdIGFzIEhUTUxFbGVtZW50O1xuY29uc3Qgc3RpY2t5ID0gbmF2Lm9mZnNldFRvcDtcblxuZnVuY3Rpb24gc2V0U3RpY2t5TmF2KCkge1xuICBpZiAod2luZG93LnBhZ2VZT2Zmc2V0ID49IHN0aWNreSkge1xuICAgIG5hdi5jbGFzc0xpc3QuYWRkKCdzdGlja3knKTtcbiAgfSBlbHNlIHtcbiAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZSgnc3RpY2t5Jyk7XG4gIH1cbn1cblxuLyogQnVyZ2VyIE1lbnUgKi9cbmxldCBtZW51T3BlbiA9IGZhbHNlO1xuXG5mdW5jdGlvbiBzZXRQcmltYXJ5TmF2KHNldDogYm9vbGVhbikge1xuICBwcmltYXJ5TmF2LnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgYCR7c2V0fWApO1xuICBtZW51QnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGAke3NldH1gKTtcblxuICBtZW51T3BlbiA9IHNldDtcbiAgaWYgKHNldCkge1xuICAgIG1lbnVCdG4uY2xhc3NMaXN0LmFkZCgnb3BlbicsICdidXJnZXItLXNoYWRvdy1hY3RpdmUnKTtcbiAgfSBlbHNlIHtcbiAgICBtZW51QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nLCAnYnVyZ2VyLS1zaGFkb3ctYWN0aXZlJyk7XG4gIH1cbn1cblxuaHRtbFNlbGVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCB2aXNpYmlsaXR5TmF2UHJpbWFyeSA9IHByaW1hcnlOYXYuZ2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnKTtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gIGlmIChcbiAgICB0YXJnZXQgPT09IHByaW1hcnlOYXYgfHxcbiAgICB0YXJnZXQgPT09IHNlY29uZGFyeU5hdiB8fFxuICAgIHRhcmdldCA9PT0gdWxMaXN0SXRlbXMgfHxcbiAgICB0YXJnZXQgPT09IHVsTGlzdExpbmtzIHx8XG4gICAgdGFyZ2V0ID09PSB0b2dnbGVyQnRuU2Vjb25kYXJ5TmF2IHx8XG4gICAgdGFyZ2V0ID09PSBzZWFyY2hCYXIgfHxcbiAgICB0YXJnZXQgPT09IHNlYXJjaE1vZGFsXG4gIClcbiAgICByZXR1cm47XG5cbiAgaWYgKG1lbnVCdG4uY29udGFpbnModGFyZ2V0KSAmJiB2aXNpYmlsaXR5TmF2UHJpbWFyeSA9PT0gJ2ZhbHNlJyAmJiAhbWVudU9wZW4pIHtcbiAgICBzZXRQcmltYXJ5TmF2KHRydWUpO1xuICB9IGVsc2UgaWYgKFxuICAgICghcHJpbWFyeU5hdi5jb250YWlucyh0YXJnZXQpICYmIHZpc2liaWxpdHlOYXZQcmltYXJ5ID09PSAndHJ1ZScpIHx8XG4gICAgdGFyZ2V0ID09PSBuYXZiYXJcbiAgKSB7XG4gICAgc2V0UHJpbWFyeU5hdihmYWxzZSk7XG4gICAgc2Vjb25kYXJ5TmF2LnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ2ZhbHNlJyk7XG4gICAgYnRuc0xpbmtOYXYuZm9yRWFjaChidG4gPT4ge1xuICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIENsb3NlIGRyb3B3ZG93biB3aGVuIHNlbGVjdCBvcHRpb24gKiovXG4gIGlmICh0YXJnZXQgIT09IHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyQnRuKSB7XG4gICAgc2VhcmNoU2VsZWN0UGxhY2Vob2xkZXJCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgc2VhcmNoRHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgIHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyQnRuLmlubmVySFRNTCA9IHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyWzBdO1xuICB9XG59KTtcblxuLyogZGlzcGxheSBhY3RpdmUgYXJyb3cgcHJpbWFyeSBuYXYgKGRlc2t0b3ApICovXG5saW5rc05hdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBFdmVudCkgPT4ge1xuICBjb25zdCBjbGlja2VkID0gKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbG9zZXN0KCcubmF2LWxpbmstYnRuJyk7XG4gIGlmIChjbGlja2VkID09PSBudWxsKSByZXR1cm47XG5cbiAgaWYgKGNsaWNrZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgIGNsaWNrZWQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgc2Vjb25kYXJ5TmF2LnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ2ZhbHNlJyk7XG4gICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDcwMCkge1xuICAgICAgc2V0UHJpbWFyeU5hdihmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIGJ0bnNMaW5rTmF2LmZvckVhY2goYnRuID0+IHtcbiAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgY2xpY2tlZC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgIHNlY29uZGFyeU5hdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICd0cnVlJyk7XG4gICAgc2V0UHJpbWFyeU5hdih0cnVlKTtcbiAgfSk7XG5cbiAgLyoqIGRpc3BsYXkgc2Vjb25kIG5hdiBiYXIgZGF0YSAqKi9cbiAgY29uc3QgZGF0YSA9IG5hdlNlY29uZERhdGEuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCA9PT0gY2xpY2tlZC5pbm5lckhUTUwpO1xuICBjcmVhdGVTZWNvbmRhcnlFbGVtZW50cyhkYXRhWzBdKTtcbn0pO1xuXG50b2dnbGVyQnRuU2Vjb25kYXJ5TmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBzZWNvbmRhcnlOYXYuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnLCAnZmFsc2UnKTtcbiAgYnRuc0xpbmtOYXYuZm9yRWFjaChidG4gPT4ge1xuICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfSk7XG59KTtcblxuLyogQ3JlYXRlIHNlY29uZCBuYXYgZWxlbWVudCAqL1xuY29uc3QgY3JlYXRlU2Vjb25kTmF2SXRlbSA9IChpY29uOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpOiBIVE1MTElFbGVtZW50ID0+IHtcbiAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICBsaS5jbGFzc0xpc3QuYWRkKCdzZWNvbmRhcnktLWxpc3QtaXRlbScpO1xuICBhbmNob3IuaHJlZiA9ICcjJztcbiAgYW5jaG9yLmNsYXNzTGlzdC5hZGQoJ3NlY29uZGFyeS0taXRlbS1saW5rJyk7XG5cbiAgaW1nLmNsYXNzTGlzdC5hZGQoJ3NlY29uZGFyeS0taXRlbS1pbWcnKTtcbiAgaW1nLnNyYyA9IGljb247XG5cbiAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdzZWNvbmRhcnktLWl0ZW0tdGV4dCcpO1xuICBzcGFuLmlubmVySFRNTCA9IHRpdGxlO1xuXG4gIGFuY2hvci5hcHBlbmRDaGlsZChpbWcpO1xuICBhbmNob3IuYXBwZW5kQ2hpbGQoc3Bhbik7XG4gIGxpLmFwcGVuZENoaWxkKGFuY2hvcik7XG4gIGxpLmNsYXNzTGlzdC5hZGQoJ2ZhZGUtb3V0Jyk7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgbGkuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZS1vdXQnKTtcbiAgfSk7XG4gIHJldHVybiBsaTtcbn07XG5cbmNvbnN0IGNyZWF0ZXNlY29uZE5hdkxpbmsgPSAoaHJlZjogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpOiBIVE1MTElFbGVtZW50ID0+IHtcbiAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5cbiAgbGkuY2xhc3NMaXN0LmFkZCgnc2Vjb25kYXJ5LS1saXN0LWxpbmsnKTtcbiAgYW5jaG9yLmhyZWYgPSBocmVmO1xuICBhbmNob3IuaW5uZXJIVE1MID0gdGV4dDtcblxuICBsaS5hcHBlbmRDaGlsZChhbmNob3IpO1xuICBsaS5jbGFzc0xpc3QuYWRkKCdmYWRlLW91dCcpO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIGxpLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGUtb3V0Jyk7XG4gIH0pO1xuICByZXR1cm4gbGk7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVTZWNvbmRhcnlFbGVtZW50cyhkYXRhOiBJTmF2U2Vjb25kRGF0YSkge1xuICB0b2dnbGVyQnRuU2Vjb25kYXJ5TmF2LmlubmVySFRNTCA9IGRhdGEudGl0bGU7XG5cbiAgdWxMaXN0SXRlbXMuaW5uZXJIVE1MID0gJyc7XG4gIGRhdGEuaXRlbXMubWFwKGl0ZW0gPT4ge1xuICAgIHVsTGlzdEl0ZW1zLmFwcGVuZENoaWxkKGNyZWF0ZVNlY29uZE5hdkl0ZW0oaXRlbS5pY29uLCBpdGVtLnRpdGxlKSk7XG4gIH0pO1xuXG4gIHVsTGlzdExpbmtzLmlubmVySFRNTCA9ICcnO1xuICBkYXRhLmxpbmtzLm1hcChsaW5rID0+IHtcbiAgICB1bExpc3RMaW5rcy5hcHBlbmRDaGlsZChjcmVhdGVzZWNvbmROYXZMaW5rKGxpbmsuaHJlZiwgbGluay50ZXh0KSk7XG4gIH0pO1xufVxuXG4vKiAtLS0tLS0tLS0tLSBOYXYgbWVudSBFTkQgLS0tLS0tLS0tLS0gKi9cblxuLyogLS0tLS0tLS0tLS0gU2VhcmNoIGJhciBTVEFSVCAtLS0tLS0tLS0tLSAqL1xuc2VhcmNoQmFyVG9nZ2xlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgc2VhcmNoTW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2libGUnLCAndHJ1ZScpO1xufSk7XG5cbmNvbnN0IHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyID0gWydQbGF5U3RhdGlvbi5jb20nLCAnU2l0ZXMnXTtcblxuY29uc3Qgc2VsZWN0U2VhcmNoVmFsdWUgPSAoKSA9PiB7XG4gIGNvbnN0IHNlYXJjaFNlbGVjdElucHV0Q2hlY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgJ2lucHV0W25hbWU9XCJzZWFyY2gtLXNlbGVjdC1vcHRpb25cIl06Y2hlY2tlZCdcbiAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBzZWFyY2hTZWxlY3RWYWx1ZSA9IHNlYXJjaFNlbGVjdElucHV0Q2hlY2tlZC52YWx1ZTtcblxuICBzZWFyY2hTZWxlY3RQbGFjZWhvbGRlci5zaGlmdCgpO1xuICBzZWFyY2hTZWxlY3RQbGFjZWhvbGRlci51bnNoaWZ0KHNlYXJjaFNlbGVjdFZhbHVlKTtcbn07XG5cbnNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBzZWFyY2hTZWxlY3RQbGFjZWhvbGRlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcbiAgc2VhcmNoRHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdycpO1xuXG4gIHNlbGVjdFNlYXJjaFZhbHVlKCk7XG5cbiAgaWYgKHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyQnRuLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICBzZWFyY2hTZWxlY3RQbGFjZWhvbGRlckJ0bi5pbm5lckhUTUwgPSBzZWFyY2hTZWxlY3RQbGFjZWhvbGRlclsxXTtcbiAgfSBlbHNlIHtcbiAgICBzZWFyY2hTZWxlY3RQbGFjZWhvbGRlckJ0bi5pbm5lckhUTUwgPSBzZWFyY2hTZWxlY3RQbGFjZWhvbGRlclswXTtcbiAgfVxufSk7XG5cbnNlYXJjaFNlbGVjdElucHV0cy5mb3JFYWNoKGlucHV0ID0+XG4gIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICBzZWxlY3RTZWFyY2hWYWx1ZSgpO1xuICAgIHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyQnRuLmlubmVySFRNTCA9IHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyWzBdO1xuICAgIHNlYXJjaFRleHRJbnB1dC5wbGFjZWhvbGRlciA9IGBTZWFyY2ggJHtzZWFyY2hTZWxlY3RQbGFjZWhvbGRlclswXX1gO1xuICB9KVxuKTtcblxuc2VhcmNoTW9kYWxUb2dnbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBzZWFyY2hNb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJsZScsICdmYWxzZScpO1xufSk7XG5cbmZ1bmN0aW9uIGNsb3NlU2VhcmNoTW9kYWwoKSB7XG4gIHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICBzZWFyY2hEcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gIHNlYXJjaE1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmxlJywgJ2ZhbHNlJyk7XG4gIHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyQnRuLmlubmVySFRNTCA9IHNlYXJjaFNlbGVjdFBsYWNlaG9sZGVyWzBdO1xufVxuXG5zZWFyY2hNb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgaWYgKHNlYXJjaE1vZGFsICE9PSB0YXJnZXQpIHJldHVybjtcbiAgY2xvc2VTZWFyY2hNb2RhbCgpO1xufSk7XG4vKiAtLS0tLS0tLS0tLSBTZWFyY2ggYmFyIEVORCAtLS0tLS0tLS0tLSAqL1xuXG4vKiAtLS0tLS0tLS0tLSBSZXZlYWwgVGV4dCBTZWN0aW9uIFJhbmRvbSBHYW1lIC0tLS0tLS0tLS0tICovXG5jb25zdCBzZWN0aW9uUmFuZG9tR2FtZURlc2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnLnNlY3Rpb24tLXJhbmRvbUdhbWUtc2xpZGUnXG4pIGFzIEhUTUxEaXZFbGVtZW50O1xuY29uc3Qgc2VjdGlvblJldmVhbFJhbmRvbUdhbWVEZXNjID0gKFxuICBlbnRyaWVzOiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5W10sXG4gIG9ic2VydmVyOiBJbnRlcnNlY3Rpb25PYnNlcnZlclxuKSA9PiB7XG4gIGNvbnN0IFtlbnRyeV0gPSBlbnRyaWVzO1xuICBpZiAoIWVudHJ5LmlzSW50ZXJzZWN0aW5nKSByZXR1cm47XG4gIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdyYW5kb20tc2xpZGUtYWN0aXZlJyk7XG4gIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xufTtcblxuY29uc3Qgc2VjdGlvblJhbmRvbUdhbWVPYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihzZWN0aW9uUmV2ZWFsUmFuZG9tR2FtZURlc2MsIHtcbiAgcm9vdDogbnVsbCxcbiAgdGhyZXNob2xkOiAwLjE1XG59KTtcbnNlY3Rpb25SYW5kb21HYW1lRGVzYy5jbGFzc0xpc3QucmVtb3ZlKCdyYW5kb20tc2xpZGUtYWN0aXZlJyk7XG5zZWN0aW9uUmFuZG9tR2FtZU9ic2VydmVyLm9ic2VydmUoc2VjdGlvblJhbmRvbUdhbWVEZXNjKTtcbiJdLCJuYW1lcyI6WyJuYXZTZWNvbmREYXRhIiwiaWQiLCJ0aXRsZSIsIml0ZW1zIiwiaWNvbiIsImxpbmtzIiwidGV4dCIsImhyZWYiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImh0bWxTZWxlY3QiLCJxdWVyeVNlbGVjdG9yIiwibmF2YmFyIiwibWVudUJ0biIsInByaW1hcnlOYXYiLCJzZWNvbmRhcnlOYXYiLCJsaW5rc05hdiIsImJ0bnNMaW5rTmF2IiwicXVlcnlTZWxlY3RvckFsbCIsInNlYXJjaEJhciIsInRvZ2dsZXJCdG5TZWNvbmRhcnlOYXYiLCJ1bExpc3RJdGVtcyIsInVsTGlzdExpbmtzIiwic2VhcmNoQmFyVG9nZ2xlciIsInNlYXJjaE1vZGFsIiwic2VhcmNoTW9kYWxUb2dnbGVyIiwic2VhcmNoU2VsZWN0UGxhY2Vob2xkZXJCdG4iLCJzZWFyY2hEcm9wZG93biIsInNlYXJjaFNlbGVjdElucHV0cyIsInNlYXJjaFRleHRJbnB1dCIsIm9uc2Nyb2xsIiwicGFnZVlPZmZzZXQiLCJzdGlja3kiLCJuYXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJvZmZzZXRUb3AiLCJtZW51T3BlbiIsInNldFByaW1hcnlOYXYiLCJzZXQiLCJzZXRBdHRyaWJ1dGUiLCJhZGRFdmVudExpc3RlbmVyIiwidmlzaWJpbGl0eU5hdlByaW1hcnkiLCJnZXRBdHRyaWJ1dGUiLCJ0YXJnZXQiLCJjb250YWlucyIsImZvckVhY2giLCJidG4iLCJpbm5lckhUTUwiLCJzZWFyY2hTZWxlY3RQbGFjZWhvbGRlciIsImNsaWNrZWQiLCJjbG9zZXN0IiwiaW5uZXJXaWR0aCIsImRhdGEiLCJmaWx0ZXIiLCJpdGVtIiwibWFwIiwiYXBwZW5kQ2hpbGQiLCJsaSIsImNyZWF0ZUVsZW1lbnQiLCJhbmNob3IiLCJpbWciLCJzcGFuIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY3JlYXRlU2Vjb25kTmF2SXRlbSIsImxpbmsiLCJjcmVhdGVzZWNvbmROYXZMaW5rIiwic2VsZWN0U2VhcmNoVmFsdWUiLCJzZWFyY2hTZWxlY3RWYWx1ZSIsInNoaWZ0IiwidW5zaGlmdCIsInRvZ2dsZSIsImlucHV0IiwicGxhY2Vob2xkZXIiLCJzZWN0aW9uUmFuZG9tR2FtZURlc2MiLCJzZWN0aW9uUmFuZG9tR2FtZU9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwib2JzZXJ2ZXIiLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwidW5vYnNlcnZlIiwicm9vdCIsInRocmVzaG9sZCIsIm9ic2VydmUiXSwic291cmNlUm9vdCI6IiJ9